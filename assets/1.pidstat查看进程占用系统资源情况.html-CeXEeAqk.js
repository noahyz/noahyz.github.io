import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as h,o as l}from"./app-D1zlwylF.js";const n={};function k(t,s){return l(),a("div",null,s[0]||(s[0]=[h(`<h2 id="pidstat" tabindex="-1"><a class="header-anchor" href="#pidstat"><span>pidstat</span></a></h2><p>在 sysstat 包中，pidstat 用于监控进程占用系统资源的情况。注意：pidstat 监控的是进程的指标，如果要看线程，加上 -t 选项<br> 工具使用：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[root@localhost </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]# pidstat -help</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Usage:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pidstat</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [ </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">options</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ]</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [ </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">interva</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">l</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [ </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">coun</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ]</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Options</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> are:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[ </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">-d</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ] [ </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">-h</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ] [ -I ] [ -l ] [ </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">-r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ] [ </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">-s</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ] [ </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">-t</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ] [ -U [ </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">username</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ] ] [ </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">-u</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[ -V ] [ </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">-w</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ] [ -C </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">command</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ] [ </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">-p</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">pid</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [,...] </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> SELF </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ALL } ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[ -T { TASK </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> CHILD </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ALL } ]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>-u 默认的参数，显示各个进程的CPU使用情况</li><li>-r 显示各个进程的内存使用情况</li><li>-d 显示各个进程的IO使用情况</li><li>-p 指定进程号</li><li>-s 显示堆栈利用率</li><li>-w 显示每个进程的上下文切换情况</li><li>-l 显示命令名和所有参数</li><li>-t 输出线程的指标</li><li>interval 相邻两次采样的时间；count 采样次数</li></ul><p>输出参数含义：</p><h3 id="_1-查看各个进程的-cpu-使用情况" tabindex="-1"><a class="header-anchor" href="#_1-查看各个进程的-cpu-使用情况"><span>1. 查看各个进程的 CPU 使用情况</span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[root@localhost </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]# pidstat -u -l</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Linux</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 3.10.0-1160.el7.x86_64</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (localhost.localdomain)    01/13/2022      _x86_64_        (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">2</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> CPU</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">07:55:39</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   UID</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">       PID</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    %usr</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> %system</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  %guest</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    %CPU</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   CPU</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  Command</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">07:55:39</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">         1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    0.01</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    0.01</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    0.02</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  /usr/lib/systemd/systemd</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --system</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --deserialize</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 18</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">07:55:39</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">         6</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    0.01</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    0.01</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  ksoftirqd/0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">07:55:39</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">         7</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    0.00</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  migration/0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>%usr 进程在用户空间占用的 CPU 的百分比</li><li>%system 进程在内核空间占用的 CPU 的百分比</li><li>%guest 进程在虚拟机占用的百分比</li><li>%CPU 进程占用CPU的百分比</li></ul><h3 id="_2-查看各个进程的内存使用情况" tabindex="-1"><a class="header-anchor" href="#_2-查看各个进程的内存使用情况"><span>2. 查看各个进程的内存使用情况</span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[root@localhost </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]# pidstat -r -l</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Linux</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 3.10.0-1160.el7.x86_64</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (localhost.localdomain)    01/13/2022      _x86_64_        (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">2</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> CPU</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">08:02:21</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   UID</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">       PID</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  minflt/s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  majflt/s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     VSZ</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    RSS</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   %MEM</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  Command</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">08:02:21</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">         1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">      2.45</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">   46204</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">   6620</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">   0.36</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  /usr/lib/systemd/systemd</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --system</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --deserialize</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 18</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">08:02:21</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">       493</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">      1.44</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">   39056</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">   5104</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">   0.27</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  /usr/lib/systemd/systemd-journald</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">08:02:21</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">       647</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">      0.02</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">   55532</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    856</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">   0.05</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  /sbin/auditd</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>minflt/s 任务每秒发生的次要错误，不需要从磁盘中加载页</li><li>majflt/s 任务每秒发生的主要错误，需要从磁盘</li><li>VSZ 虚拟内存大小，单位(KB)</li><li>RSS 物理内存大小，单位(KB)</li></ul><h3 id="_3-查看各个进程的-io-使用情况" tabindex="-1"><a class="header-anchor" href="#_3-查看各个进程的-io-使用情况"><span>3. 查看各个进程的 IO 使用情况</span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[root@localhost </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]# pidstat -d -l</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Linux</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 3.10.0-1160.el7.x86_64</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (localhost.localdomain)    01/13/2022      _x86_64_        (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">2</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> CPU</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">09:14:11</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   UID</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">       PID</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   kB_rd/s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   kB_wr/s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kB_ccwr/s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  Command</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">09:14:11</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">         1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     13.62</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    118.62</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     14.43</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  /usr/lib/systemd/systemd</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --system</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --deserialize</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 18</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">09:14:11</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">        47</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  kworker/u256:1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">09:14:11</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">       412</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  xfsaild/dm-0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>KB_rd/s 每秒进程从磁盘读取的数据量，单位(KB)</li><li>KB_wr/s 每秒进程从磁盘写的数据量，单位(KB)</li></ul><h3 id="_4-查看各个进程的上下文切换情况" tabindex="-1"><a class="header-anchor" href="#_4-查看各个进程的上下文切换情况"><span>4. 查看各个进程的上下文切换情况</span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[root@localhost </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]# pidstat -w -l</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Linux</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 3.10.0-1160.el7.x86_64</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (localhost.localdomain)    01/13/2022      _x86_64_        (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">2</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> CPU</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">09:25:14</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   UID</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">       PID</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   cswch/s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nvcswch/s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  Command</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">09:25:14</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">         1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">      0.15</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">      0.14</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  /usr/lib/systemd/systemd</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --system</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --deserialize</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 18</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">09:25:14</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">         2</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">      0.01</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  kthreadd</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">09:25:14</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> AM</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">         4</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">      0.00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  kworker/0:0H</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>cswch/s 每秒执行任务的自愿性上下文切换的总次数；比如任务需要等待资源阻塞时，会发生自愿上下文切换</li><li>nvcswch/s 每秒执行任务的非自愿性上下文切换的总次数；当任务在其时间片期间执行时，被迫放弃CPU，发生非自愿上下文切换；进程在争抢CPU，被强制调度</li></ul>`,17)]))}const d=i(n,[["render",k],["__file","1.pidstat查看进程占用系统资源情况.html.vue"]]),r=JSON.parse('{"path":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/CPU%E7%AE%A1%E7%90%86/%E5%B7%A5%E5%85%B7%E8%BF%90%E7%BB%B4/1.pidstat%E6%9F%A5%E7%9C%8B%E8%BF%9B%E7%A8%8B%E5%8D%A0%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%B5%84%E6%BA%90%E6%83%85%E5%86%B5.html","title":"1.pidstat查看进程占用系统资源情况","lang":"zh-CN","frontmatter":{"title":"1.pidstat查看进程占用系统资源情况","date":"2023-01-19T11:11:41.000Z","tags":["linux"],"description":"pidstat 在 sysstat 包中，pidstat 用于监控进程占用系统资源的情况。注意：pidstat 监控的是进程的指标，如果要看线程，加上 -t 选项 工具使用： -u 默认的参数，显示各个进程的CPU使用情况 -r 显示各个进程的内存使用情况 -d 显示各个进程的IO使用情况 -p 指定进程号 -s 显示堆栈利用率 -w 显示每个进程的上...","head":[["meta",{"property":"og:url","content":"https://noahyz.github.io/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/CPU%E7%AE%A1%E7%90%86/%E5%B7%A5%E5%85%B7%E8%BF%90%E7%BB%B4/1.pidstat%E6%9F%A5%E7%9C%8B%E8%BF%9B%E7%A8%8B%E5%8D%A0%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%B5%84%E6%BA%90%E6%83%85%E5%86%B5.html"}],["meta",{"property":"og:site_name","content":"noahyz的博客"}],["meta",{"property":"og:title","content":"1.pidstat查看进程占用系统资源情况"}],["meta",{"property":"og:description","content":"pidstat 在 sysstat 包中，pidstat 用于监控进程占用系统资源的情况。注意：pidstat 监控的是进程的指标，如果要看线程，加上 -t 选项 工具使用： -u 默认的参数，显示各个进程的CPU使用情况 -r 显示各个进程的内存使用情况 -d 显示各个进程的IO使用情况 -p 指定进程号 -s 显示堆栈利用率 -w 显示每个进程的上..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"noahyz"}],["meta",{"property":"article:tag","content":"linux"}],["meta",{"property":"article:published_time","content":"2023-01-19T11:11:41.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"1.pidstat查看进程占用系统资源情况\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-01-19T11:11:41.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"noahyz\\",\\"url\\":\\"/about-the-author/\\"}]}"]]},"headers":[{"level":2,"title":"pidstat","slug":"pidstat","link":"#pidstat","children":[{"level":3,"title":"1. 查看各个进程的 CPU 使用情况","slug":"_1-查看各个进程的-cpu-使用情况","link":"#_1-查看各个进程的-cpu-使用情况","children":[]},{"level":3,"title":"2. 查看各个进程的内存使用情况","slug":"_2-查看各个进程的内存使用情况","link":"#_2-查看各个进程的内存使用情况","children":[]},{"level":3,"title":"3. 查看各个进程的 IO 使用情况","slug":"_3-查看各个进程的-io-使用情况","link":"#_3-查看各个进程的-io-使用情况","children":[]},{"level":3,"title":"4. 查看各个进程的上下文切换情况","slug":"_4-查看各个进程的上下文切换情况","link":"#_4-查看各个进程的上下文切换情况","children":[]}]}],"git":{},"readingTime":{"minutes":2.55,"words":765},"filePathRelative":"操作系统/CPU管理/工具运维/1.pidstat查看进程占用系统资源情况.md","localizedDate":"2023年1月19日","excerpt":"<h2>pidstat</h2>\\n<p>在 sysstat 包中，pidstat 用于监控进程占用系统资源的情况。注意：pidstat 监控的是进程的指标，如果要看线程，加上 -t 选项<br>\\n工具使用：</p>\\n<div class=\\"language-shell line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"shell\\" data-title=\\"shell\\" style=\\"--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes github-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\">[root@localhost </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#ABB2BF\\">~</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\">]# pidstat -help</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#61AFEF\\">Usage:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#98C379\\"> pidstat</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\"> [ </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#98C379\\">options</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#98C379\\"> ]</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\"> [ </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#ABB2BF\\">&lt;</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#98C379\\">interva</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\">l</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#ABB2BF\\">&gt;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\"> [ </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#ABB2BF\\">&lt;</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#98C379\\">coun</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\">t</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#ABB2BF\\">&gt;</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#98C379\\"> ]</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#98C379\\"> ]</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#61AFEF\\">Options</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#98C379\\"> are:</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\">[ </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#56B6C2\\">-d</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\"> ] [ </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#56B6C2\\">-h</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\"> ] [ -I ] [ -l ] [ </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#56B6C2\\">-r</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\"> ] [ </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#56B6C2\\">-s</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\"> ] [ </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#56B6C2\\">-t</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\"> ] [ -U [ </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#56B6C2\\">&lt;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\">username</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#56B6C2\\">&gt;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\"> ] ] [ </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#56B6C2\\">-u</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\"> ]</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\">[ -V ] [ </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#56B6C2\\">-w</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\"> ] [ -C </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#56B6C2\\">&lt;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\">command</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#56B6C2\\">&gt;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\"> ] [ </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#56B6C2\\">-p</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\"> { </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#56B6C2\\">&lt;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\">pid</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#56B6C2\\">&gt;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\"> [,...] </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#ABB2BF\\">|</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\"> SELF </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#ABB2BF\\">|</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\"> ALL } ]</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\">[ -T { TASK </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#ABB2BF\\">|</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\"> CHILD </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#ABB2BF\\">|</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\"> ALL } ]</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{d as comp,r as data};
